# Matrix Synapse Configuration
# Copy this file to .env and fill in your values, or set these as environment variables in Railway

# Server Configuration
SYNAPSE_SERVER_NAME=chat.bawes.net
SYNAPSE_PUBLIC_BASEURL=https://chat.bawes.net/

# PostgreSQL Database Configuration
# Railway will provide these automatically if you add a PostgreSQL service
# Otherwise, set them manually:
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_DATABASE=synapse

# Synapse Secrets
# Generate secure random strings for these (at least 32 characters each)
# You can use: openssl rand -base64 32
SYNAPSE_REGISTRATION_SHARED_SECRET=your_registration_shared_secret_here
SYNAPSE_MACAROON_SECRET_KEY=your_macaroon_secret_key_here
SYNAPSE_FORM_SECRET=your_form_secret_here

# Authentik OIDC Configuration
AUTHENTIK_ISSUER=https://auth.bawes.net/application/o/universe-chat/
AUTHENTIK_CLIENT_ID=your_authentik_client_id
AUTHENTIK_CLIENT_SECRET=your_authentik_client_secret

# JWT Configuration (optional, for WorkAdventure integration)
JWT_SECRET=your_jwt_secret_here

# Railway Bucket Storage Configuration (Required for media storage)
# Create a bucket in Railway and get credentials from the bucket's "Credentials" tab
# All values should be copied from Railway bucket credentials
S3_BUCKET_NAME=your-railway-bucket-name
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=your_railway_bucket_access_key
S3_SECRET_ACCESS_KEY=your_railway_bucket_secret_key
# REQUIRED for Railway buckets - get this from bucket's Credentials tab
S3_ENDPOINT_URL=https://your-railway-bucket-endpoint.railway.app

# Admin User (optional - only used on first run to create admin account)
# After creation, you can remove these or leave them empty
MATRIX_ADMIN_USER=admin
MATRIX_ADMIN_PASSWORD=your_secure_admin_password
